"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58],{89058:function(e,t,r){r.d(t,{Z:function(){return D}});var o,i=r(50959),u=r(29575),a="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},f={},l={};({get exports(){return f},set exports(n){f=n}}).exports=function(){if(o)return l;o=1;var e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function f(t,o,i){var f,l={},c=null,s=null;for(f in void 0!==i&&(c=""+i),void 0!==o.key&&(c=""+o.key),void 0!==o.ref&&(s=o.ref),o)r.call(o,f)&&!a.hasOwnProperty(f)&&(l[f]=o[f]);if(t&&t.defaultProps)for(f in o=t.defaultProps)void 0===l[f]&&(l[f]=o[f]);return{$$typeof:e,type:t,key:c,ref:s,props:l,_owner:u.current}}return l.Fragment=t,l.jsx=f,l.jsxs=f,l}();let c=f.jsx;var s=0/0,d=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,b=/^0o[0-7]+$/i,m=parseInt,v="object"==typeof a&&a&&a.Object===Object&&a,w="object"==typeof self&&self&&self.Object===Object&&self,h=v||w||Function("return this")(),g=Object.prototype.toString,O=Math.max,_=Math.min,E=function(){return h.Date.now()};function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==g.call(t))return s;if(j(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=j(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var o=y.test(e);return o||b.test(e)?m(e.slice(2),o?2:8):p.test(e)?s:+e}var S=function(e,t,r){var o,i,u,a,f,l,c=0,s=!1,d=!1,p=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var r=o,u=i;return o=i=void 0,c=t,a=e.apply(u,r)}function b(e){var r=e-l,o=e-c;return void 0===l||r>=t||r<0||d&&o>=u}function m(){var e,r,o,i=E();if(b(i))return v(i);f=setTimeout(m,(e=i-l,r=i-c,o=t-e,d?_(o,u-r):o))}function v(e){return f=void 0,p&&o?y(e):(o=i=void 0,a)}function w(){var e,r=E(),u=b(r);if(o=arguments,i=this,l=r,u){if(void 0===f)return c=e=l,f=setTimeout(m,t),s?y(e):a;if(d)return f=setTimeout(m,t),y(l)}return void 0===f&&(f=setTimeout(m,t)),a}return t=k(t)||0,j(r)&&(s=!!r.leading,u=(d="maxWait"in r)?O(k(r.maxWait)||0,t):u,p="trailing"in r?!!r.trailing:p),w.cancel=function(){void 0!==f&&clearTimeout(f),c=0,o=l=i=f=void 0},w.flush=function(){return void 0===f?a:v(E())},w};let T=[],R={width:"100%",height:"100%"},x=(0,i.forwardRef)(function({className:e,children:t,debounceTime:r=300,ignoreDimensions:o=T,parentSizeStyles:u,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:f,...l},s){var d;let p=(0,i.useRef)(null),y=(0,i.useRef)(0),[b,m]=(0,i.useState)({width:0,height:0,top:0,left:0}),v=(0,i.useMemo)(()=>{let e=Array.isArray(o)?o:[o];return S(t=>{m(r=>Object.keys(r).filter(e=>r[e]!==t[e]).every(t=>e.includes(t))?r:t)},r,{leading:a})},[r,a,o]);return(0,i.useEffect)(()=>{let e=new(f||window.ResizeObserver)(e=>{e.forEach(e=>{let{left:t,top:r,width:o,height:i}=(null==e?void 0:e.contentRect)??{};y.current=window.requestAnimationFrame(()=>{v({width:o,height:i,top:r,left:t})})})});return p.current&&e.observe(p.current),()=>{window.cancelAnimationFrame(y.current),e.disconnect(),v.cancel()}},[v,f]),c("div",{style:{...R,...u},ref:(d=[s,p],e=>{d.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}),className:e,...l,children:t({...b,ref:p.current,resize:v})})}),D=(0,i.forwardRef)(({scene:e,style:t,onMouseDown:r,onMouseUp:o,onMouseHover:a,onKeyDown:f,onKeyUp:l,onStart:s,onLookAt:d,onFollow:p,onWheel:y,onLoad:b,renderOnDemand:m=!0,...v},w)=>{let h=(0,i.useRef)(null),[g,O]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let t;O(!0);let i=[{name:"mouseDown",cb:r},{name:"mouseUp",cb:o},{name:"mouseHover",cb:a},{name:"keyDown",cb:f},{name:"keyUp",cb:l},{name:"start",cb:s},{name:"lookAt",cb:d},{name:"follow",cb:p},{name:"scroll",cb:y}];return h.current&&(t=new u.M(h.current,{renderOnDemand:m}),async function(){for(let r of(await t.load(e),i))r.cb&&t.addEventListener(r.name,r.cb);O(!1),null==b||b(t)}()),()=>{for(let e of i)e.cb&&t.removeEventListener(e.name,e.cb);t.dispose()}},[e]),c(x,{ref:w,parentSizeStyles:t,debounceTime:50,...v,children:()=>c("canvas",{ref:h,style:{display:g?"none":"block"}})})})}}]);